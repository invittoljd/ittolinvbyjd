import{a as j}from"./chunk-XXHPFDJK.js";import{a as C}from"./chunk-7B2NRFVQ.js";import{a as W}from"./chunk-NYQCGUI2.js";import{a as I}from"./chunk-2J6QROK5.js";import{a as V,b as A,c as G,d as $,e as P,f as z,g as B,i as H,j as U,n as J}from"./chunk-BV3V6FZK.js";import{a as T}from"./chunk-4NN27ZSM.js";import{a as F}from"./chunk-Y4UAUI7W.js";import{Ca as _,Da as O,Ea as d,Ga as n,Ha as t,Ia as m,Ja as D,Ka as c,La as v,Ma as o,Na as E,Oa as p,Ra as g,S,V as f,a as L,b as N,ba as M,c as b,ca as k,ia as w,jb as R,kb as x,ra as l}from"./chunk-EGZLEYQ3.js";function re(r,i){if(r&1&&(n(0,"div",5)(1,"label",24),o(2,"Fecha de inicio de uso del equipo"),t(),n(3,"p",25),o(4),t()()),r&2){let u=v();l(4),p(" ",u.getDateStart()," ")}}function ae(r,i){if(r&1&&(n(0,"div",5)(1,"label",26),o(2,"Fecha de termino de uso del equipo"),t(),n(3,"p",27),o(4),t()()),r&2){let u=v();l(4),p(" ",u.getDateEnd()," ")}}var K=(()=>{let i=class i{constructor(){this.requestSelectedEvent=new w}setRequestSelected(s){s&&this.requestSelectedEvent.emit(s)}getDate(){if(this.request){let{date:s}=this.request;if(s)return new Date(s).toDateString()}return"Sin informaci\xF3n"}getDateStart(){if(this.request){let{datetimeStart:s}=this.request;if(s)return new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}return"Sin informaci\xF3n"}getDateEnd(){if(this.request){let{datetimeEnd:s}=this.request;if(s)return new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}return"Sin informaci\xF3n"}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-card"]],inputs:{request:"request"},outputs:{requestSelectedEvent:"requestSelectedEvent"},standalone:!0,features:[g],decls:41,vars:8,consts:[[1,"card","mt-3"],[1,"card-header"],[1,"my-2"],[1,"fw-bold"],[1,"card-body"],[1,"mb-3"],["for","title",1,"fw-bold"],["id","title"],["for","quantity",1,"fw-bold"],["id","quantity"],["for","date",1,"fw-bold"],["id","date"],["for","description",1,"fw-bold"],["id","description"],["class","mb-3",4,"ngIf"],["for","status",1,"fw-bold"],["id","status"],[1,"card-footer","d-flex","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#modalDelete","type","button","title","Cancelar solicitud",1,"btn",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalWarning","type","button","title","Reportar imprevisto con la solicitud",1,"btn",3,"click"],["src","assets/icons/warning.svg","alt","Advertencias",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalInformation","type","button","title","Mostrar informaci\xF3n del Item solicitado",1,"btn",3,"click"],["src","assets/icons/show.svg","alt","Mostrar",1,"icon"],["for","dateStart",1,"fw-bold"],["id","dateStart"],["for","dateEnd",1,"fw-bold"],["id","dateEnd"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"p",2)(3,"span",3),o(4,"ID de la solicitud: "),t(),o(5),t()(),n(6,"div",4)(7,"div",5)(8,"label",6),o(9,"Nombre del Item"),t(),n(10,"p",7),o(11),t()(),n(12,"div",5)(13,"label",8),o(14,"Cantidad solicitada"),t(),n(15,"p",9),o(16),t()(),n(17,"div",5)(18,"label",10),o(19,"Fecha de la solicitud"),t(),n(20,"p",11),o(21),t()(),n(22,"div",5)(23,"label",12),o(24,"Descripci\xF3n de la solicitud"),t(),n(25,"p",13),o(26),t()(),_(27,re,5,1,"div",14)(28,ae,5,1,"div",14),n(29,"div",5)(30,"label",15),o(31,"Estatus de la solicitud"),t(),n(32,"p",16),o(33),t()()(),n(34,"div",17)(35,"button",18),c("click",function(){return e.setRequestSelected(e.request)}),m(36,"img",19),t(),n(37,"button",20),c("click",function(){return e.setRequestSelected(e.request)}),m(38,"img",21),t(),n(39,"button",22),c("click",function(){return e.setRequestSelected(e.request)}),m(40,"img",23),t()()()),a&2&&(l(5),E(e.request==null?null:e.request._id),l(6),p(" ",e.request==null||e.request.item==null?null:e.request.item.title," "),l(5),p(" ",e.request==null?null:e.request.quantity," "),l(5),p(" ",e.getDate()," "),l(5),p(" ",e.request==null?null:e.request.description," "),l(),d("ngIf",e.request==null||e.request.item==null?null:e.request.item.loan),l(),d("ngIf",e.request==null||e.request.item==null?null:e.request.item.loan),l(5),p(" ",e.request!=null&&e.request.status?"Aprovado":"Pendiente"," "))},dependencies:[x],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]});let r=i;return r})();function se(r,i){if(r&1&&(n(0,"p",34),o(1),t()),r&2){let u=v(2);l(),E(u.status)}}function oe(r,i){if(r&1&&(n(0,"p",38),o(1),t()),r&2){let u=i.$implicit;l(),E(u._id)}}function le(r,i){if(r&1&&(n(0,"div",35)(1,"p",36),o(2,"ID de las solicitudes aprovadas con conflicto:"),t(),_(3,oe,2,1,"p",37),t()),r&2){let u=v(2);l(3),d("ngForOf",u.overlappingRequests)}}function de(r,i){if(r&1){let u=D();n(0,"div",9)(1,"p",3),o(2,"Revisar disponibilidad en horario:"),t(),_(3,se,2,1,"p",31)(4,le,4,1,"div",32),n(5,"button",33),c("click",function(){M(u);let a=v();return k(a.checkAvailability())}),o(6," Revisar "),t()()}if(r&2){let u=v();l(3),d("ngIf",u.status),l(),d("ngIf",u.overlappingRequests)}}function ue(r,i){if(r&1&&(n(0,"div",9)(1,"label",39),o(2,"Fecha de inicio de uso del equipo"),t(),n(3,"p",40),o(4),t()()),r&2){let u=v();l(4),p(" ",u.getDateStart()," ")}}function me(r,i){if(r&1&&(n(0,"div",9)(1,"label",41),o(2,"Fecha de termino de uso del equipo"),t(),n(3,"p",42),o(4),t()()),r&2){let u=v();l(4),p(" ",u.getDateEnd()," ")}}var Q=(()=>{let i=class i{constructor(){this.requestSelectedEvent=new w,this._requestService=S(C),this._waitingModalService=S(F)}setRequestSelected(s){s&&this.requestSelectedEvent.emit(s)}setStatus(s,a){return b(this,null,function*(){a&&(yield this._requestService.updateRequest(N(L({},a),{status:s})))&&(a.status=s)})}getDate(){if(this.request){let{date:s}=this.request;if(s)return new Date(s).toDateString()}return"Sin informaci\xF3n"}getDateStart(){if(this.request){let{datetimeStart:s}=this.request;if(s)return new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}return"Sin informaci\xF3n"}getDateEnd(){if(this.request){let{datetimeEnd:s}=this.request;if(s)return new Date(s).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}return"Sin informaci\xF3n"}checkAvailability(){return b(this,null,function*(){if(this._waitingModalService.setIsWaiting(!0),this.request){let{ok:s,requests:a}=yield this._requestService.checkAvailability(this.request);s?this.status="Equipo Disponible":a?(this.status="Equipo Ocupado",this.overlappingRequests=a):this.status="Error al revisar, favor de verificar"}this._waitingModalService.setIsWaiting(!1)})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-card-admin"]],inputs:{request:"request"},outputs:{requestSelectedEvent:"requestSelectedEvent"},standalone:!0,features:[g],decls:51,vars:10,consts:[[1,"card","mt-3"],[1,"card-header"],[1,"my-2"],[1,"fw-bold"],[1,"card-body"],[1,"mb-3","text-center"],["for","title",1,"fw-bold","text-danger"],["id","title",1,"h1","text-danger"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["for","title",1,"fw-bold"],["id","title"],["for","quantity",1,"fw-bold"],["id","quantity"],["for","date",1,"fw-bold"],["id","date"],["for","description",1,"fw-bold"],["id","description"],["for","status",1,"fw-bold"],["id","status",1,"h2"],[1,"card-footer","d-flex","justify-content-between"],["type","button","title","Rechazar Solicitud",1,"btn","btn-custom",3,"click"],["src","assets/icons/reject.svg","alt","Rechazar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalDelete","type","button","title","Eliminar solicitud",1,"btn","btn-custom",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalWarning","type","button","title","Reportar imprevisto con la solicitud",1,"btn","btn-custom",3,"click"],["src","assets/icons/warning.svg","alt","Advertencias",1,"icon"],["data-bs-toggle","modal","data-bs-target","#modalInformation","type","button","title","Mostrar informaci\xF3n del Item solicitado",1,"btn","btn-custom",3,"click"],["src","assets/icons/show.svg","alt","Mostrar",1,"icon"],["type","button","title","Aceptar Solicitud",1,"btn","btn-custom",3,"click"],["src","assets/icons/ok.svg","alt","Aceptar",1,"icon"],["class","text-danger h4",4,"ngIf"],["class","mt-4 mb-5",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"text-danger","h4"],[1,"mt-4","mb-5"],[1,"h5"],["class","h6",4,"ngFor","ngForOf"],[1,"h6"],["for","dateStart",1,"fw-bold"],["id","dateStart"],["for","dateEnd",1,"fw-bold"],["id","dateEnd"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"p",2)(3,"span",3),o(4,"ID de la solicitud: "),t(),o(5),t()(),n(6,"div",4)(7,"div",5)(8,"label",6),o(9,"Usuario solicitante"),t(),n(10,"p",7),o(11),t()(),_(12,de,7,2,"div",8),n(13,"div",9)(14,"label",10),o(15,"Nombre del Item"),t(),n(16,"p",11),o(17),t()(),n(18,"div",9)(19,"label",12),o(20,"Cantidad solicitada"),t(),n(21,"p",13),o(22),t()(),n(23,"div",9)(24,"label",14),o(25,"Fecha de la solicitud"),t(),n(26,"p",15),o(27),t()(),n(28,"div",9)(29,"label",16),o(30,"Descripci\xF3n de la solicitud"),t(),n(31,"p",17),o(32),t()(),_(33,ue,5,1,"div",8)(34,me,5,1,"div",8),n(35,"div",9)(36,"label",18),o(37,"Estatus de la solicitud"),t(),n(38,"p",19),o(39),t()()(),n(40,"div",20)(41,"button",21),c("click",function(){return e.setRequestSelected(e.request),e.setStatus(!1,e.request)}),m(42,"img",22),t(),n(43,"button",23),c("click",function(){return e.setRequestSelected(e.request)}),m(44,"img",24),t(),n(45,"button",25),c("click",function(){return e.setRequestSelected(e.request)}),m(46,"img",26),t(),n(47,"button",27),c("click",function(){return e.setRequestSelected(e.request)}),m(48,"img",28),t(),n(49,"button",29),c("click",function(){return e.setRequestSelected(e.request),e.setStatus(!0,e.request)}),m(50,"img",30),t()()()),a&2&&(l(5),E(e.request==null?null:e.request._id),l(6),p(" ",e.request==null?null:e.request.username," "),l(),d("ngIf",e.request==null||e.request.item==null?null:e.request.item.loan),l(5),p(" ",e.request==null||e.request.item==null?null:e.request.item.title," "),l(5),p(" ",e.request==null?null:e.request.quantity," "),l(5),p(" ",e.getDate()," "),l(5),p(" ",e.request==null?null:e.request.description," "),l(),d("ngIf",e.request==null||e.request.item==null?null:e.request.item.loan),l(),d("ngIf",e.request==null||e.request.item==null?null:e.request.item.loan),l(5),p(" ",e.request!=null&&e.request.status?"Aprovado":"Pendiente"," "))},dependencies:[x,R],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn.btn-custom[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]});let r=i;return r})();function ce(r,i){if(r&1){let u=D();n(0,"app-request-card",4),c("requestSelectedEvent",function(a){M(u);let e=v(2);return k(e.setRequestSelected(a))}),t()}if(r&2){let u=v().$implicit;d("request",u)}}function pe(r,i){if(r&1){let u=D();n(0,"app-request-card-admin",4),c("requestSelectedEvent",function(a){M(u);let e=v(2);return k(e.setRequestSelected(a))}),t()}if(r&2){let u=v().$implicit;d("request",u)}}function fe(r,i){if(r&1&&(n(0,"div",2),_(1,ce,1,1,"app-request-card",3)(2,pe,1,1,"app-request-card-admin",3),t()),r&2){let u=v();l(),d("ngIf",!u.isAdmin()),l(),d("ngIf",u.isAdmin())}}var X=(()=>{let i=class i{constructor(){this.requestSelectedEvent=new w,this._sessionService=S(W)}isAdmin(){return this._sessionService.isAdmin()}setRequestSelected(s){this.requestSelectedEvent.emit(s)}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-cards"]],inputs:{requests:"requests"},outputs:{requestSelectedEvent:"requestSelectedEvent"},standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"row","mt-4"],["class","",4,"ngFor","ngForOf"],[1,""],[3,"request","requestSelectedEvent",4,"ngIf"],[3,"requestSelectedEvent","request"]],template:function(a,e){a&1&&(n(0,"div",0),_(1,fe,3,2,"div",1),t()),a&2&&(l(),d("ngForOf",e.requests))},dependencies:[K,Q,R,x]});let r=i;return r})();var Y=(()=>{let i=class i{constructor(){this._requestService=S(C),this._alertService=S(T)}deleteRequest(){return b(this,null,function*(){let s={keep:!1,text:"Error al eliminar Solicitud, favor de revisar",type:I.Danger};this.requests&&this.requestSelected?._id&&(yield this._requestService.deleteRequest(this.requests,this.requestSelected._id))&&(s={keep:!1,text:"Solicitud eliminada con \xE9xito",type:I.Success}),this._alertService.addAlert(s)})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-delete"]],inputs:{requests:"requests",requestSelected:"requestSelected"},standalone:!0,features:[g],decls:10,vars:0,consts:[["id","modalDelete","tabindex","-1","aria-labelledby","modalDeleteLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalDeleteLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-footer","justify-content-center"],["data-bs-dismiss","modal","type","button","title","Eliminar",1,"btn","danger",3,"click"],["src","assets/icons/danger.svg","alt","Eliminar",1,"icon"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"\xBFEliminar Solicitud?"),t(),m(6,"button",5),t(),n(7,"div",6)(8,"button",7),c("click",function(){return e.deleteRequest()}),m(9,"img",8),t()()()()())},styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.danger[_ngcontent-%COMP%]:hover{background-color:var(--background-color-4)!important}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]});let r=i;return r})();var Z=(()=>{let i=class i{constructor(){this.accordionParent=""}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-message"]],inputs:{message:"message",accordionParent:"accordionParent"},standalone:!0,features:[g],decls:12,vars:7,consts:[[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed","h2"],[1,"accordion-collapse","collapse",3,"id"],[1,"accordion-body"],[1,"h4"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"h2",1)(2,"button",2),o(3),t()(),n(4,"div",3)(5,"div",4)(6,"p",5),o(7),t(),n(8,"p"),o(9,"ID: "),n(10,"small"),o(11),t()()()()()),a&2&&(l(2),O("data-bs-target","#"+(e.message==null?null:e.message._id))("aria-controls",e.message==null?null:e.message._id),l(),p(" ",e.message==null?null:e.message.messageAuthor," "),l(),d("id",e.message==null?null:e.message._id),O("data-bs-parent","#"+e.accordionParent),l(3),E(e.message==null?null:e.message.message),l(4),p(" ",e.message==null?null:e.message._id," "))}});let r=i;return r})();function ge(r,i){if(r&1&&m(0,"app-request-message",2),r&2){let u=i.$implicit;d("message",u)}}var ee=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-messages"]],inputs:{requestSelected:"requestSelected"},standalone:!0,features:[g],decls:2,vars:1,consts:[["id","accordion-parent",1,"accordion","accordion-flush"],["accordionParent","accordion-parent",3,"message",4,"ngFor","ngForOf"],["accordionParent","accordion-parent",3,"message"]],template:function(a,e){a&1&&(n(0,"div",0),_(1,ge,1,1,"app-request-message",1),t()),a&2&&(l(),d("ngForOf",e.requestSelected==null?null:e.requestSelected.messages))},dependencies:[Z,R]});let r=i;return r})();var te=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-warning-messages"]],inputs:{requestSelected:"requestSelected"},standalone:!0,features:[g],decls:9,vars:1,consts:[["id","modalWarningMessages","tabindex","-1","aria-labelledby","modalWarningMessagesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalWarningMessagesLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"requestSelected"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Historial de reportes de la solicitud"),t(),m(6,"button",5),t(),n(7,"div",6),m(8,"app-request-messages",7),t()()()()),a&2&&(l(8),d("requestSelected",e.requestSelected))},dependencies:[ee]});let r=i;return r})();var ne=(()=>{let i=class i{constructor(){this.formMessageNew=new P({}),this._requestService=S(C),this._alertService=S(T)}ngOnInit(){this.formMessageNew=new P({message:new z("",[A.required,A.minLength(1),A.maxLength(255)])})}sendMessage(){return b(this,null,function*(){let s={keep:!1,text:"Error al enviar mensaje, favor de revisar",type:I.Danger};if(this.requestSelected&&this.formMessageNew.valid){let{message:a}=this.formMessageNew.value,e=yield this._requestService.addMessage(this.requestSelected,a);e&&(this.formMessageNew.reset(),this.requestSelected.messages?.push(e),s={keep:!1,text:"Mensaje enviado con \xE9xito",type:I.Success})}this._alertService.addAlert(s)})}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-request-warning"]],inputs:{requestSelected:"requestSelected"},standalone:!0,features:[g],decls:18,vars:4,consts:[["id","modalWarning","tabindex","-1","aria-labelledby","modalWarningLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","modalWarningLabel",1,"modal-title","fs-5","h1","ms-2"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"formGroup"],[1,"mb-3"],["for","message",1,"form-label"],["formControlName","message","id","message","rows","3",1,"form-control",3,"maxLength","minLength"],[1,"modal-footer","justify-content-between"],["data-bs-toggle","modal","data-bs-target","#modalWarningMessages","type","button","title","Mostrar mensajes enviados",1,"btn"],["src","assets/icons/history.svg","alt","Mostrar",1,"icon"],["type","button","title","Enviar mensaje al/los administrador(es)",1,"btn",3,"click"],["src","assets/icons/send.svg","alt","Enviar",1,"icon"],[3,"requestSelected"]],template:function(a,e){a&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),o(5,"Reportar imprevisto con la solicitud"),t(),m(6,"button",5),t(),n(7,"form",6)(8,"div",7)(9,"label",8),o(10,"Mensaje de reporte: "),t(),m(11,"textarea",9),t()(),n(12,"div",10)(13,"button",11),m(14,"img",12),t(),n(15,"button",13),c("click",function(){return e.sendMessage()}),m(16,"img",14),t()()()()(),m(17,"app-request-warning-messages",15)),a&2&&(l(7),d("formGroup",e.formMessageNew),l(4),d("maxLength",255)("minLength",1),l(6),d("requestSelected",e.requestSelected))},dependencies:[te,J,B,V,G,$,H,U],styles:[".icon[_ngcontent-%COMP%]{width:2.5rem}.btn[_ngcontent-%COMP%]:hover{background-color:var(--background-color-3);border:dotted}"]});let r=i;return r})();var ie=(()=>{let i=class i{constructor(){this.searchTerm="",this._requestService=S(C),this._waitingModalService=S(F)}ngOnInit(){return b(this,null,function*(){this._waitingModalService.setIsWaiting(!0),this.requests=yield this._requestService.getRequests("pending"),this.applySearchTerm(),this._waitingModalService.setIsWaiting(!1)})}setRequestSelected(s){this.requestSelected=s}filterRequests(s){return b(this,null,function*(){this._waitingModalService.setIsWaiting(!0);let a=s.target.value;this.requests=yield this._requestService.getRequests(a),this.applySearchTerm(),this._waitingModalService.setIsWaiting(!1)})}searchRequests(s){this.searchTerm=s.target.value.toLowerCase(),this.applySearchTerm()}applySearchTerm(){if(this.searchTerm&&this.requests){let s=this.searchTerm.toLowerCase();this.filteredRequests=this.requests.filter(a=>a._id?.toLowerCase().includes(s)||a.username?.toLowerCase().includes(s))}else this.filteredRequests=this.requests}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=f({type:i,selectors:[["app-requests"]],standalone:!0,features:[g],decls:26,vars:5,consts:[[1,"container"],[1,"col-12"],[1,"custom-header","p-5","rounded","mt-3"],[1,"title","fw-bold","text-center"],[1,"col-12","mt-3"],[1,"d-flex","justify-content-center"],["role","group","aria-label","Filtro de solicitudes",1,"btn-group"],["type","radio","name","filterOptions","id","filterAll","value","all",1,"btn-check",3,"change"],["for","filterAll",1,"btn","btn-outline-dark"],["type","radio","name","filterOptions","id","filterPending","value","pending","checked","",1,"btn-check",3,"change"],["for","filterPending",1,"btn","btn-outline-dark"],["type","radio","name","filterOptions","id","filterApproved","value","approved",1,"btn-check",3,"change"],["for","filterApproved",1,"btn","btn-outline-dark"],[1,"row","justify-content-center"],[1,"col-12","col-lg-8","mt-3"],["type","text","placeholder","Buscar por id o nombre de usuario",1,"form-control","text-center",3,"input"],[1,"row"],[3,"requestSelectedEvent","requests"],[3,"itemSelected"],[3,"requests","requestSelected"],[3,"requestSelected"]],template:function(a,e){a&1&&(n(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),o(4,"Solicitudes"),t()()(),n(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),c("change",function(h){return e.filterRequests(h)}),t(),n(9,"label",8),o(10,"Todas"),t(),n(11,"input",9),c("change",function(h){return e.filterRequests(h)}),t(),n(12,"label",10),o(13,"Pendientes"),t(),n(14,"input",11),c("change",function(h){return e.filterRequests(h)}),t(),n(15,"label",12),o(16,"Aprobadas"),t()()(),n(17,"div",13)(18,"div",14)(19,"input",15),c("input",function(h){return e.searchRequests(h)}),t()()()(),n(20,"div",1)(21,"div",16)(22,"app-request-cards",17),c("requestSelectedEvent",function(h){return e.setRequestSelected(h)}),t()()()(),m(23,"app-item-information",18)(24,"app-request-delete",19)(25,"app-request-warning",20)),a&2&&(l(22),d("requests",e.filteredRequests),l(),d("itemSelected",e.requestSelected==null?null:e.requestSelected.item),l(),d("requests",e.requests)("requestSelected",e.requestSelected),l(),d("requestSelected",e.requestSelected))},dependencies:[X,Y,ne,j],styles:["p[_ngcontent-%COMP%]{text-align:justify}.title[_ngcontent-%COMP%]{font-size:2rem}.custom-header[_ngcontent-%COMP%]{background-color:#fff6}"]});let r=i;return r})();var Ct=[{path:"",component:ie},{path:"**",redirectTo:""}];export{Ct as routes};
